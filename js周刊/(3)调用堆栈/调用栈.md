# 调用栈

#### 你了解调用栈吗？
> 什么是调用栈，什么是解析器。用了这么久js母鸡啊？难受。要想写好代码，我们必须先了解js的运行过程。

#### 什么是调用栈？
> **调用栈是解释器（就像浏览器中的javascript解释器）追踪函数执行流的一种机制。当执行环境中调用了多个函数时，通过这种机制，我们能够追踪到哪个函数正在执行，执行的函数体中又调用了哪个函数。** 这就是调用栈，记住上面这段话圈起来要考

1. 每调用一个函数，解释器就会把该函数添加进**调用栈并开始执行**
1. 正在调用栈中执行的函数还调用了其它函数，那么新函数也将会被添加进调用栈，一旦这个函数被调用，便会立即执行
1. 当前函数执行完毕后，解释器将其清出调用栈，继续执行当前执行环境下的剩余的代码
1. 当分配的调用栈空间被占满时，会引发“堆栈溢出”

#### 示例代码
``` javaScript {.line-numbers}:
    function getName(){
        names();
    }
    function names(){
        return 'hhyang'
    }
    getName();
```
#### 代码分析
1. 忽略前面所有函数，直到 **getName()** 函数被调用。
1. 把 **getName()** 添加进调用栈列表。
1. 执行 **getName()** 函数体中的所有代码。
1. 代码执行到 **names()** 时，该函数被调用。
1. 把 **names()** 添加进调用栈列表。
1. 执行 **names()** 函数体中的代码，直到全部执行完毕。
1. 返回来继续执行 **getName()** 函数体中 **name()** 后面的代码。
1. 删除调用栈列表中的 **name()** 函数。
1. 当 **getName()** 函数体中的代码全部执行完毕，返回到调用 **getName()** 的代码行，继续执行剩余JS代码。
1. 删除调用栈列表中的 **getName()** 函数。

#### tips
> 一开始，我们得到一个空空如也的调用栈。随后，每当有函数被调用都会自动地添加进调用栈，执行完函数体中的代码后，调用栈又会自动地移除这个函数。最后，我们又得到了一个空空如也的调用栈。

#### 使用浏览器观察
> 打开F12 找到 **Call Stack** 栏目，在需要执行的函数中打上断点。刷新页面，观察 **Call Stack** 栏目下堆栈的使用情况，F10下一步。